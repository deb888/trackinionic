{"version":3,"sources":["../../node_modules/@angular/core/esm5 lazy","../../src lazy","../../src/pages/home/home.ts","../../src/providers/location-tracker/location-tracker.ts","../../src/app/main.ts","../../src/app/app.module.ts","../../src/app/app.component.ts","../../ws (ignored)","../../src/providers/remote-service/remote-service.ts"],"names":[],"mappings":"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","file":"main.js","sourcesContent":["function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncatched exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tthrow new Error(\"Cannot find module '\" + req + \"'.\");\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = 124;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/@angular/core/esm5 lazy\n// module id = 124\n// module chunks = 0","function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncatched exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tthrow new Error(\"Cannot find module '\" + req + \"'.\");\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = 166;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src lazy\n// module id = 166\n// module chunks = 0","import { Component } from '@angular/core';\nimport { NavController,Platform } from 'ionic-angular';\nimport { Geolocation } from '@ionic-native/geolocation';\nimport { LocationTrackerProvider } from '../../providers/location-tracker/location-tracker';\n@Component({\n  selector: 'page-home',\n  templateUrl: 'home.html'\n})\nexport class HomePage {\n\n  constructor(public navCtrl: NavController,private geolocation: Geolocation,public pt:Platform,public locationTracker: LocationTrackerProvider) {\n\n  }\nionViewDidLoad(){\n  this.pt.ready().then((res)=>{\n    let watch = this.geolocation.watchPosition();\nwatch.subscribe((data) => {\n // data can be a set of coordinates, or an error (if an error occurred).\n // data.coords.latitude\n console.log(data)\n // data.coords.longitude\n});\n\n  },(err)=>{\n\n  })\n  \n}\nstart(){\n  this.locationTracker.startTracking();\n}\n\nstop(){\n  this.locationTracker.stopTracking();\n}\n\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/home/home.ts","import { HttpClient } from '@angular/common/http';\nimport { Injectable } from '@angular/core';\nimport {  NgZone } from '@angular/core';\nimport { BackgroundGeolocation } from '@ionic-native/background-geolocation';\nimport { Geolocation, Geoposition } from '@ionic-native/geolocation';\nimport { NavController, IonicPage, NavParams, ToastController } from 'ionic-angular';\n\nimport 'rxjs/add/operator/filter';\nimport { Socket } from 'ng-socket-io';\nimport { Observable } from 'rxjs/Observable';\n\n/*\n  Generated class for the LocationTrackerProvider provider.\n\n  See https://angular.io/guide/dependency-injection for more info on providers\n  and Angular DI.\n*/\n@Injectable()\nexport class LocationTrackerProvider {\n  public watch: any;   \n  public lat: number = 0;\n  public lng: number = 0;\n  messages = [];\n  nickname = 'tracking start';\n  message = '';\n \n  constructor(public http: HttpClient,public backgroundGeolocation:BackgroundGeolocation,public toastCtrl:ToastController,private socket: Socket,public geolocation:Geolocation,public zone:NgZone) {\n    console.log('Hello LocationTrackerProvider Provider');\n    this.joinChat();\n  }\n  joinChat() {\n    this.socket.connect();\n    this.socket.emit('set-nickname', this.nickname);\n    //this.navCtrl.push('ChatRoomPage', { nickname: this.nickname });\n  }\n  startTracking() {\n \n    // Background Tracking\n   \n    let config = {\n      desiredAccuracy: 0,\n      stationaryRadius: 20,\n      distanceFilter: 10,\n      debug: true,\n      interval: 2000\n    };\n   \n    this.backgroundGeolocation.configure(config).subscribe((location) => {\n   \n      console.log('BackgroundGeolocation:  ' + location.latitude + ',' + location.longitude);\n   \n      // Run update inside of Angular's zone\n      this.zone.run(() => {\n        this.lat = location.latitude;\n        this.lng = location.longitude;\n        this.message=this.lat+'_'+this.lng;\n        this.sendMessage();\n      });\n   \n    }, (err) => {\n   \n      console.log(err);\n   \n    });\n   \n    // Turn ON the background-geolocation system.\n    this.backgroundGeolocation.start();\n   \n   \n    // Foreground Tracking\n   \n  let options = {\n    frequency: 3000,\n    enableHighAccuracy: true\n  };\n   \n  this.watch = this.geolocation.watchPosition(options).filter((p: any) => p.code === undefined).subscribe((position: Geoposition) => {\n   \n    console.log(position);\n   \n    // Run update inside of Angular's zone\n    this.zone.run(() => {\n      this.lat = position.coords.latitude;\n      this.lng = position.coords.longitude;\n      this.message=this.lat+'_'+this.lng;\n        this.sendMessage();\n    });\n   \n  });\n   \n  }\n  stopTracking() {\n \n  console.log('stopTracking');\n \n  this.backgroundGeolocation.finish();\n  this.watch.unsubscribe();\n \n}\nsendMessage() {\n  this.socket.emit('add-message', { text: this.message });\n  this.message = '';\n}\n\ngetMessages() {\n  let observable = new Observable(observer => {\n    this.socket.on('message', (data) => {\n      observer.next(data);\n    });\n  })\n  return observable;\n}\n\ngetUsers() {\n  let observable = new Observable(observer => {\n    this.socket.on('users-changed', (data) => {\n      observer.next(data);\n    });\n  });\n  return observable;\n}\n\nionViewWillLeave() {\n  this.socket.disconnect();\n}\n\nshowToast(msg) {\n  let toast = this.toastCtrl.create({\n    message: msg,\n    duration: 2000\n  });\n  toast.present();\n}\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/providers/location-tracker/location-tracker.ts","import { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\n\nimport { AppModule } from './app.module';\n\nplatformBrowserDynamic().bootstrapModule(AppModule);\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/main.ts","import { BrowserModule } from '@angular/platform-browser';\nimport { ErrorHandler, NgModule } from '@angular/core';\nimport { IonicApp, IonicErrorHandler, IonicModule } from 'ionic-angular';\nimport { SplashScreen } from '@ionic-native/splash-screen';\nimport { StatusBar } from '@ionic-native/status-bar';\nimport { HttpModule } from '@angular/http';\n\nimport { MyApp } from './app.component';\nimport { HomePage } from '../pages/home/home';\nimport { Geolocation } from '@ionic-native/geolocation';\nimport { RemoteServiceProvider } from '../providers/remote-service/remote-service';\nimport { LocationTrackerProvider } from '../providers/location-tracker/location-tracker';\nimport { BackgroundGeolocation } from '@ionic-native/background-geolocation';\n//import { Geolocation } from '@ionic-native/geolocation';\nimport { HttpClientModule, HttpClient,HttpHandler } from '@angular/common/http';\nimport { SocketIoModule, SocketIoConfig } from 'ng-socket-io';\nconst config: SocketIoConfig = { url: 'http://localhost:3001', options: {} };\n \n\n@NgModule({\n  declarations: [\n    MyApp,\n    HomePage\n  ],\n  imports: [\n    BrowserModule,HttpModule,HttpClientModule,\n    IonicModule.forRoot(MyApp),\n    SocketIoModule.forRoot(config)\n\n  ],\n  bootstrap: [IonicApp],\n  entryComponents: [\n    MyApp,\n    HomePage\n  ],\n  providers: [\n    StatusBar,\n    SplashScreen,Geolocation,\n    {provide: ErrorHandler, useClass: IonicErrorHandler},\n    RemoteServiceProvider,\n    LocationTrackerProvider,\n    BackgroundGeolocation,\n    HttpClient\n  ]\n})\nexport class AppModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/app.module.ts","import { Component } from '@angular/core';\nimport { Platform } from 'ionic-angular';\nimport { StatusBar } from '@ionic-native/status-bar';\nimport { SplashScreen } from '@ionic-native/splash-screen';\n\nimport { HomePage } from '../pages/home/home';\n@Component({\n  templateUrl: 'app.html'\n})\nexport class MyApp {\n  rootPage:any = HomePage;\n\n  constructor(platform: Platform, statusBar: StatusBar, splashScreen: SplashScreen) {\n    platform.ready().then(() => {\n      // Okay, so the platform is ready and our plugins are available.\n      // Here you can do any higher level native things you might need.\n      statusBar.styleDefault();\n      splashScreen.hide();\n    });\n  }\n}\n\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/app.component.ts","/* (ignored) */\n\n\n//////////////////\n// WEBPACK FOOTER\n// ws (ignored)\n// module id = 325\n// module chunks = 0","import { HttpClient } from '@angular/common/http';\nimport { Injectable } from '@angular/core';\nimport { Subject } from 'rxjs/Subject';\nimport { Observable } from 'rxjs/Observable';\nimport * as io from 'socket.io-client';\n\n\n/*\n  Generated class for the RemoteServiceProvider provider.\n\n  See https://angular.io/guide/dependency-injection for more info on providers\n  and Angular DI.\n*/\n@Injectable()\nexport class RemoteServiceProvider {\n\n  constructor(public http: HttpClient) {\n    console.log('Hello RemoteServiceProvider Provider');\n  }\n  private url = 'http://localhost:5000';  \n  private socket;\n  \n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/providers/remote-service/remote-service.ts"],"sourceRoot":""}